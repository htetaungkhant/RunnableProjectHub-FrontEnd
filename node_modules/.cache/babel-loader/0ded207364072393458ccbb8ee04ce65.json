{"ast":null,"code":"var _jsxFileName = \"/home/htunlin/react/runnableprojecthub/src/component/Projects.jsx\";\nimport React, { Component } from \"react\";\nimport { Input, Select, Item, Button, Message, Label, Form, Segment } from \"semantic-ui-react\";\nimport axios from \"axios\";\nimport filedownload from \"js-file-download\";\n\nclass Projects extends Component {\n  constructor(props) {\n    super(props);\n\n    this.demoOnClick = (containerName, projectType, containerIP) => {\n      let formData = new FormData();\n      formData.append(\"containerName\", containerName);\n      formData.append(\"projectType\", projectType);\n      axios({\n        method: \"post\",\n        url: \"http://localhost:8080/startApplication\",\n        data: formData\n      }).then(response => {}).catch(function (error) {\n        console.log(error);\n      });\n      console.log(\"container IP :\", containerIP);\n\n      if (projectType === \"Window Application\") {\n        setTimeout(() => {\n          window.open(\"http://\" + containerIP, \"_blank\");\n        }, 10000);\n      } else {\n        window.open(\"http://\" + containerIP, \"_blank\");\n      }\n    };\n\n    this.downloadOnClick = (username, projectName, zipPath) => {\n      console.log(\"data :\", username, projectName, zipPath);\n      let formData = new FormData();\n      formData.append(\"userName\", username);\n      formData.append(\"projectName\", projectName);\n      formData.append(\"zipName\", zipPath);\n      axios({\n        method: \"post\",\n        url: \"http://localhost:8080/download\",\n        data: formData\n      }).then(response => {\n        const url = window.URL.createObjectURL(new Blob([response.data]));\n        const link = document.createElement(\"a\");\n        link.href = url;\n        link.setAttribute(\"download\", \"file.zip\"); //or any other extension\n\n        document.body.appendChild(link);\n        link.click();\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    this.fetchProject = () => {\n      let data = {};\n      if (this.state.pattern !== \"\") data[\"pattern\"] = this.state.pattern;\n      if (this.state.language !== \"\") data[\"language\"] = this.state.language;\n      if (this.state.projectType !== \"\") data[\"projectType\"] = this.state.projectType;\n      axios({\n        method: \"get\",\n        url: \"http://localhost:8080/project\",\n        params: data\n      }).then(response => {\n        this.setState({\n          projects: response.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    this.projectTypeOnChange = (event, data) => {\n      switch (data.value) {\n        case \"Website\":\n          this.setState({\n            languageOptions: [{\n              text: \"All\",\n              value: \"All\"\n            }, {\n              text: \"PHP\",\n              value: \"PHP\"\n            }, {\n              text: \"HTML\",\n              value: \"HTML\"\n            }],\n            projectType: data.value\n          });\n          break;\n\n        case \"Window Application\":\n          this.setState({\n            languageOptions: [{\n              text: \"All\",\n              value: \"All\"\n            }, {\n              text: \"JAVA\",\n              value: \"JAVA\"\n            }],\n            projectType: data.value\n          });\n          break;\n\n        case \"Android Application\":\n          this.setState({\n            languageOptions: [{\n              text: \"All\",\n              value: \"All\"\n            }],\n            projectType: data.value\n          });\n          break;\n\n        default:\n          this.setState({\n            languageOptions: [{\n              text: \"All\",\n              value: \"All\"\n            }, {\n              text: \"PHP\",\n              value: \"PHP\"\n            }, {\n              text: \"HTML\",\n              value: \"HTML\"\n            }, {\n              text: \"JAVA\",\n              valu: \"JAVA\"\n            }],\n            projectType: \"\"\n          });\n      }\n    };\n\n    this.languageOnChange = (e, data) => {\n      if (data.value === \"All\") this.setState({\n        language: \"\"\n      });else this.setState({\n        language: data.value\n      });\n    };\n\n    this.searchOnChange = e => {\n      this.setState({\n        pattern: e.target.value\n      });\n      console.log(e.target.value);\n    };\n\n    this.searchOnClick = e => {\n      this.fetchProject();\n    };\n\n    this.filterDate = date => {\n      var today = new Date();\n      var diff = Math.round((Date.UTC(today.getFullYear(), today.getMonth(), today.getDate(), today.getHours(), today.getMinutes()) - Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes())) / (1000 * 60));\n      console.log(\"diff :\", diff);\n\n      if (diff === 1) {\n        return \"1 min ago\";\n      } else if (diff >= 1 && diff < 60) {\n        return diff + \" mins ago\";\n      } else if (diff >= 60 && diff <= 60 * 2) {\n        return \"1 hour ago\";\n      } else if (diff >= 60 * 2 && diff < 60 * 24) {\n        return Math.round(diff / 60) + \" hours ago\";\n      } else if (diff >= 60 * 24 && diff < 60 * 24 * 2) {\n        return \"1 day ago\";\n      } else if (diff >= 60 * 24 * 2 && diff < 60 * 24 * 7) {\n        return Math.round(diff / 60 * 24) + \" days ago\";\n      } else if (diff >= 60 * 24 * 7 && diff < 60 * 24 * 14) {\n        return \"1 week ago\";\n      } else if (diff >= 60 * 24 * 14 && diff < 60 * 24 * 21) {\n        return \"2 weeks ago\";\n      } else if (diff >= 60 * 24 * 21 && diff < 60 * 24 * 28) {\n        return \"3 weeks ago\";\n      } else if (diff >= 60 * 24 * 30 && diff < 60 * 24 * 30 * 2) {\n        return \"1 month ago\";\n      } else if (diff >= 60 * 24 * 30 * 2 && diff < 60 * 24 * 30 * 12) {\n        return Math.round(diff / (60 * 24 * 30)) + \" months ago\";\n      }\n    };\n\n    this.state = {\n      pattern: \"\",\n      projectType: \"\",\n      language: \"\",\n      languageOptions: [{\n        text: \"All\",\n        value: \"All\"\n      }, {\n        text: \"PHP\",\n        value: \"PHP\"\n      }, {\n        text: \"HTML\",\n        value: \"HTML\"\n      }, {\n        text: \"JAVA\",\n        value: \"JAVA\"\n      }],\n      projects: []\n    };\n  }\n\n  componentDidMount() {\n    this.fetchProject();\n  }\n\n  render() {\n    console.log(\"projects:\", this.state.projects);\n    let items;\n\n    if (this.state.projects !== null) {\n      items = this.state.projects.map(project => {\n        const date = this.filterDate(new Date(project.createdDate));\n        return React.createElement(Item, {\n          key: project.ProjectName,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208\n          },\n          __self: this\n        }, React.createElement(Item.Content, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209\n          },\n          __self: this\n        }, React.createElement(Item.Header, {\n          as: \"a\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210\n          },\n          __self: this\n        }, project.ProjectName), React.createElement(Item.Meta, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        }, React.createElement(Label, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213\n          },\n          __self: this\n        }, date), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214\n          },\n          __self: this\n        }, \" by \", project.username)), React.createElement(Item.Description, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        }, project.description), React.createElement(Item.Extra, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217\n          },\n          __self: this\n        }, React.createElement(Button, {\n          floated: \"right\",\n          icon: \"play\",\n          color: \"twitter\",\n          onClick: e => {\n            this.demoOnClick(project.ContainerName, project.ProjectType, project.ContainerIP);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218\n          },\n          __self: this\n        }), React.createElement(Button, {\n          floated: \"right\",\n          icon: \"download\",\n          color: \"twitter\",\n          onClick: e => {\n            this.downloadOnClick(project.username, project.ProjectName, project.zipPath);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 231\n          },\n          __self: this\n        }), React.createElement(Label, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244\n          },\n          __self: this\n        }, project.ProjectType), React.createElement(Label, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 246\n          },\n          __self: this\n        }, project.Language))));\n      });\n    } else {\n      items = React.createElement(Message, {\n        negative: true,\n        icon: \"search\",\n        header: \"Result Not Found.\",\n        content: \"Please try another keywords.\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      });\n    }\n\n    const projectTypeOptions = [{\n      text: \"All\",\n      value: \"All\"\n    }, {\n      text: \"Website\",\n      value: \"Website\"\n    }, {\n      text: \"Window Application\",\n      value: \"Window Application\"\n    }, {\n      text: \"Android\",\n      value: \"Android\"\n    }];\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"projectContent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, React.createElement(Segment, {\n      clearing: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, React.createElement(Input, {\n      placeholder: \"Search...\",\n      onChange: this.searchOnChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }), React.createElement(Button, {\n      content: \"Search\",\n      onClick: this.searchOnClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"padd\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }), React.createElement(Select, {\n      placeholder: \"Project Type\",\n      options: projectTypeOptions,\n      onChange: this.projectTypeOnChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"padd\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }), React.createElement(Select, {\n      placeholder: \"Language\",\n      options: this.state.languageOptions,\n      onChange: this.languageOnChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }))), React.createElement(Segment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }, React.createElement(Item.Group, {\n      divided: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }, items))));\n  }\n\n}\n\nexport default Projects;","map":{"version":3,"sources":["/home/htunlin/react/runnableprojecthub/src/component/Projects.jsx"],"names":["React","Component","Input","Select","Item","Button","Message","Label","Form","Segment","axios","filedownload","Projects","constructor","props","demoOnClick","containerName","projectType","containerIP","formData","FormData","append","method","url","data","then","response","catch","error","console","log","setTimeout","window","open","downloadOnClick","username","projectName","zipPath","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","fetchProject","state","pattern","language","params","setState","projects","projectTypeOnChange","event","value","languageOptions","text","valu","languageOnChange","e","searchOnChange","target","searchOnClick","filterDate","date","today","Date","diff","Math","round","UTC","getFullYear","getMonth","getDate","getHours","getMinutes","componentDidMount","render","items","map","project","createdDate","ProjectName","description","ContainerName","ProjectType","ContainerIP","Language","projectTypeOptions"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  Input,\n  Select,\n  Item,\n  Button,\n  Message,\n  Label,\n  Form,\n  Segment\n} from \"semantic-ui-react\";\nimport axios from \"axios\";\nimport filedownload from \"js-file-download\";\n\nclass Projects extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pattern: \"\",\n      projectType: \"\",\n      language: \"\",\n      languageOptions: [\n        { text: \"All\", value: \"All\" },\n        { text: \"PHP\", value: \"PHP\" },\n        { text: \"HTML\", value: \"HTML\" },\n        { text: \"JAVA\", value: \"JAVA\" }\n      ],\n      projects: []\n    };\n  }\n\n  componentDidMount() {\n    this.fetchProject();\n  }\n\n  demoOnClick = (containerName, projectType, containerIP) => {\n    let formData = new FormData();\n    formData.append(\"containerName\", containerName);\n    formData.append(\"projectType\", projectType);\n    axios({\n      method: \"post\",\n      url: \"http://localhost:8080/startApplication\",\n      data: formData\n    })\n      .then(response => {})\n      .catch(function(error) {\n        console.log(error);\n      });\n    console.log(\"container IP :\", containerIP);\n    if (projectType === \"Window Application\") {\n      setTimeout(() => {\n        window.open(\"http://\" + containerIP, \"_blank\");\n      }, 10000);\n    } else {\n      window.open(\"http://\" + containerIP, \"_blank\");\n    }\n  };\n\n  downloadOnClick = (username, projectName, zipPath) => {\n    console.log(\"data :\", username, projectName, zipPath);\n    let formData = new FormData();\n    formData.append(\"userName\", username);\n    formData.append(\"projectName\", projectName);\n    formData.append(\"zipName\", zipPath);\n    axios({\n      method: \"post\",\n      url: \"http://localhost:8080/download\",\n      data: formData\n    })\n      .then(response => {\n        const url = window.URL.createObjectURL(new Blob([response.data]));\n        const link = document.createElement(\"a\");\n        link.href = url;\n        link.setAttribute(\"download\", \"file.zip\"); //or any other extension\n        document.body.appendChild(link);\n        link.click();\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n  };\n\n  fetchProject = () => {\n    let data = {};\n    if (this.state.pattern !== \"\") data[\"pattern\"] = this.state.pattern;\n    if (this.state.language !== \"\") data[\"language\"] = this.state.language;\n    if (this.state.projectType !== \"\")\n      data[\"projectType\"] = this.state.projectType;\n\n    axios({\n      method: \"get\",\n      url: \"http://localhost:8080/project\",\n      params: data\n    })\n      .then(response => {\n        this.setState({ projects: response.data });\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n  };\n  projectTypeOnChange = (event, data) => {\n    switch (data.value) {\n      case \"Website\":\n        this.setState({\n          languageOptions: [\n            { text: \"All\", value: \"All\" },\n            { text: \"PHP\", value: \"PHP\" },\n            { text: \"HTML\", value: \"HTML\" }\n          ],\n          projectType: data.value\n        });\n        break;\n      case \"Window Application\":\n        this.setState({\n          languageOptions: [\n            { text: \"All\", value: \"All\" },\n            { text: \"JAVA\", value: \"JAVA\" }\n          ],\n          projectType: data.value\n        });\n        break;\n      case \"Android Application\":\n        this.setState({\n          languageOptions: [{ text: \"All\", value: \"All\" }],\n          projectType: data.value\n        });\n        break;\n      default:\n        this.setState({\n          languageOptions: [\n            { text: \"All\", value: \"All\" },\n            { text: \"PHP\", value: \"PHP\" },\n            { text: \"HTML\", value: \"HTML\" },\n            { text: \"JAVA\", valu: \"JAVA\" }\n          ],\n          projectType: \"\"\n        });\n    }\n  };\n\n  languageOnChange = (e, data) => {\n    if (data.value === \"All\") this.setState({ language: \"\" });\n    else this.setState({ language: data.value });\n  };\n\n  searchOnChange = e => {\n    this.setState({ pattern: e.target.value });\n    console.log(e.target.value);\n  };\n\n  searchOnClick = e => {\n    this.fetchProject();\n  };\n\n  filterDate = date => {\n    var today = new Date();\n    var diff = Math.round(\n      (Date.UTC(\n        today.getFullYear(),\n        today.getMonth(),\n        today.getDate(),\n        today.getHours(),\n        today.getMinutes()\n      ) -\n        Date.UTC(\n          date.getFullYear(),\n          date.getMonth(),\n          date.getDate(),\n          date.getHours(),\n          date.getMinutes()\n        )) /\n        (1000 * 60)\n    );\n    console.log(\"diff :\", diff);\n    if (diff === 1) {\n      return \"1 min ago\";\n    } else if (diff >= 1 && diff < 60) {\n      return diff + \" mins ago\";\n    } else if (diff >= 60 && diff <= 60 * 2) {\n      return \"1 hour ago\";\n    } else if (diff >= 60 * 2 && diff < 60 * 24) {\n      return Math.round(diff / 60) + \" hours ago\";\n    } else if (diff >= 60 * 24 && diff < 60 * 24 * 2) {\n      return \"1 day ago\";\n    } else if (diff >= 60 * 24 * 2 && diff < 60 * 24 * 7) {\n      return Math.round((diff / 60) * 24) + \" days ago\";\n    } else if (diff >= 60 * 24 * 7 && diff < 60 * 24 * 14) {\n      return \"1 week ago\";\n    } else if (diff >= 60 * 24 * 14 && diff < 60 * 24 * 21) {\n      return \"2 weeks ago\";\n    } else if (diff >= 60 * 24 * 21 && diff < 60 * 24 * 28) {\n      return \"3 weeks ago\";\n    } else if (diff >= 60 * 24 * 30 && diff < 60 * 24 * 30 * 2) {\n      return \"1 month ago\";\n    } else if (diff >= 60 * 24 * 30 * 2 && diff < 60 * 24 * 30 * 12) {\n      return Math.round(diff / (60 * 24 * 30)) + \" months ago\";\n    }\n  };\n  render() {\n    console.log(\"projects:\", this.state.projects);\n    let items;\n    if (this.state.projects !== null) {\n      items = this.state.projects.map(project => {\n        const date = this.filterDate(new Date(project.createdDate));\n\n        return (\n          <Item key={project.ProjectName}>\n            <Item.Content>\n              <Item.Header as=\"a\">{project.ProjectName}</Item.Header>\n\n              <Item.Meta>\n                <Label>{date}</Label>\n                <span> by {project.username}</span>\n              </Item.Meta>\n              <Item.Description>{project.description}</Item.Description>\n              <Item.Extra>\n                <Button\n                  floated=\"right\"\n                  icon=\"play\"\n                  color=\"twitter\"\n                  onClick={e => {\n                    this.demoOnClick(\n                      project.ContainerName,\n                      project.ProjectType,\n                      project.ContainerIP\n                    );\n                  }}\n                ></Button>\n\n                <Button\n                  floated=\"right\"\n                  icon=\"download\"\n                  color=\"twitter\"\n                  onClick={e => {\n                    this.downloadOnClick(\n                      project.username,\n                      project.ProjectName,\n                      project.zipPath\n                    );\n                  }}\n                />\n\n                <Label>{project.ProjectType}</Label>\n\n                <Label>{project.Language}</Label>\n              </Item.Extra>\n            </Item.Content>\n          </Item>\n        );\n      });\n    } else {\n      items = (\n        <Message\n          negative\n          icon=\"search\"\n          header=\"Result Not Found.\"\n          content=\"Please try another keywords.\"\n        />\n      );\n    }\n\n    const projectTypeOptions = [\n      { text: \"All\", value: \"All\" },\n      { text: \"Website\", value: \"Website\" },\n      { text: \"Window Application\", value: \"Window Application\" },\n      { text: \"Android\", value: \"Android\" }\n    ];\n\n    return (\n      <React.Fragment>\n        <div className=\"projectContent\">\n          <Form.Group>\n            <Segment clearing>\n              <Input placeholder=\"Search...\" onChange={this.searchOnChange} />\n              <Button content=\"Search\" onClick={this.searchOnClick} />\n\n              <span className=\"padd\"></span>\n              <Select\n                placeholder=\"Project Type\"\n                options={projectTypeOptions}\n                onChange={this.projectTypeOnChange}\n              />\n              <span className=\"padd\"></span>\n              <Select\n                placeholder=\"Language\"\n                options={this.state.languageOptions}\n                onChange={this.languageOnChange}\n              />\n            </Segment>\n          </Form.Group>\n          <Segment>\n            <Item.Group divided>{items}</Item.Group>\n          </Segment>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Projects;\n"]},"metadata":{},"sourceType":"module"}